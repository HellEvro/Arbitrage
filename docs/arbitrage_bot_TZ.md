# –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó) –Ω–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ –±–æ—Ç–∞
**–î–∞—Ç–∞:** 2025-11-08 01:05
**–í–µ—Ä—Å–∏—è:** 1.1

## 1. –¶–µ–ª—å –∏ –∑–∞–¥–∞—á–∏
–¶–µ–ª—å ‚Äî —Å–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –º–µ–∂–±–∏—Ä–∂–µ–≤–æ–≥–æ —Å–ø–æ—Ç–æ–≤–æ–≥–æ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞, —Ä–∞–±–æ—Ç–∞—é—â—É—é —Å –±–∏—Ä–∂–∞–º–∏:
**Bybit, MEXC, Bitget, OKX, KuCoin.**  
–°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–∞ –ø–æ –º–æ–Ω–µ—Ç–∞–º, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∏—Ö –±–∏—Ä–∂–∞—Ö.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏
1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–ø–æ—Ç–æ–≤—ã—Ö –º–æ–Ω–µ—Ç –º–µ–∂–¥—É –≤—Å–µ–º–∏ –±–∏—Ä–∂–∞–º–∏.  
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –ø–æ –≤—Å–µ–º –æ–±—â–∏–º –º–æ–Ω–µ—Ç–∞–º —á–µ—Ä–µ–∑ WebSocket –∏ REST.  
3. –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—è–≤–ª—è—Ç—å –º–æ–Ω–µ—Ç—ã —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–æ–≤—ã–º–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è–º–∏.  
4. –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –≤–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (Flask, –ø–æ—Ä—Ç 5152).  
5. –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ Telegram‚Äë–±–æ—Ç –æ —Å–∞–º—ã—Ö –≤—ã–≥–æ–¥–Ω—ã—Ö —Ä–∞–∑–¥–≤–∏–∂–∫–∞—Ö.  

---

## 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
–ú–æ–¥—É–ª—å–Ω–∞—è, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è.  
–í—Å–µ –º–æ–¥—É–ª–∏ –æ–±—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API (HTTP/REST) –∏–ª–∏ –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π.  
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –±–∏—Ä–∂–∏ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –Ω–µ –¥–æ–ª–∂–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π —è–¥—Ä–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **MarketDiscovery** ‚Äî –ø–æ–∏—Å–∫ –æ–±—â–∏—Ö –º–æ–Ω–µ—Ç (–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ä—ã–Ω–∫–æ–≤).
- **ExchangeAdapters** ‚Äî –∞–¥–∞–ø—Ç–µ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–π –±–∏—Ä–∂–∏ (Bybit, MEXC, Bitget, OKX, KuCoin).
- **QuoteAggregator** ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ –≤ –ø–∞–º—è—Ç–∏.
- **ArbitrageEngine** ‚Äî –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å–ø—Ä–µ–¥–∞ –∏ –ø—Ä–∏–±—ã–ª–∏.
- **Flask WebUI** ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π.
- **TelegramNotifier** ‚Äî –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ —Ä–∞–∑–¥–≤–∏–∂–∫–∞—Ö.

---

## 3. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **–Ø–∑—ã–∫:** Python 3.11+  
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:** asyncio, aiohttp, websockets, Flask, Flask‚ÄëSocketIO  
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** In‚ÄëMemory Cache / Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:** SQLite / PostgreSQL –¥–ª—è –ª–æ–≥–æ–≤  
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker + docker‚Äëcompose  
- **–í–µ–±‚Äë–ø–æ—Ä—Ç:** 5152  

---

## 4. Telegram‚Äë–æ–ø–æ–≤–µ—â–µ–Ω–∏—è

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–û–ø–æ–≤–µ—â–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram –æ –º–æ–Ω–µ—Ç–∞—Ö —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º–∏ —Å–ø—Ä–µ–¥–∞–º–∏, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä—ã–Ω–æ—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `telegram_notifier.py`.  
2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Telegram‚Äë–±–æ—Ç API (`python‚Äëtelegram‚Äëbot` –∏–ª–∏ `aiogram`).  
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `config.yaml`:
   ```yaml
   telegram:
     enabled: true
     bot_token: "XXX"
     chat_id: "YYYYY"
     notify_interval_sec: 60
     min_profit_usdt: 1.0
   ```
4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è:
   - –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –º–æ–Ω–µ—Ç—ã —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —Å–ø—Ä–µ–¥–æ–º,
   - –ª–∏–±–æ –ø–æ —Ç–∞–π–º–µ—Ä—É (—á–∞—Å—Ç–æ—Ç–∞ –∑–∞–¥–∞—ë—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `notify_interval_sec`),
   - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–∏–±—ã–ª—å –ø—Ä–µ–≤—ã—à–∞–µ—Ç `min_profit_usdt`.
5. –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:
   ```
   üîî –ê—Ä–±–∏—Ç—Ä–∞–∂: BTC/USDT
   –ö—É–ø–∏ –Ω–∞ Bybit –ø–æ 64210.5 ‚Üí –ü—Ä–æ–¥–∞–π –Ω–∞ OKX –ø–æ 64278.3
   –†–∞–∑–Ω–∏—Ü–∞: +67.8 USDT (0.106%)
   ```
6. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å Telegram‚Äë—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞.  
7. –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–≤ –±–∞–∑—É –∏–ª–∏ —Ñ–∞–π–ª).

---

## 5. –í–µ–±‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
### –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ–Ω–µ—Ç —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º —Å–ø—Ä–µ–¥–æ–º –º–µ–∂–¥—É –±–∏—Ä–∂–∞–º–∏.  
–ö–æ–ª–æ–Ω–∫–∏:
| –ú–æ–Ω–µ—Ç–∞ | –ë–∏—Ä–∂–∞ (–º–∏–Ω) | –¶–µ–Ω–∞ min | –ë–∏—Ä–∂–∞ (–º–∞–∫—Å) | –¶–µ–Ω–∞ max | –†–∞–∑–Ω–∏—Ü–∞ (USDT) | % | –û–±–Ω–æ–≤–ª–µ–Ω–æ (–º—Å) |

–ö–ª–∏–∫ –ø–æ –±–∏—Ä–∂–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç–æ—Ä–≥–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–æ–Ω–µ—Ç—ã.  
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø–æ WebSocket (Socket.IO) –∫–∞–∂–¥—ã–µ ‚â§ 1 —Å–µ–∫—É–Ω–¥—ã.

---

## 6. API (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –∏ –ø—É–±–ª–∏—á–Ω–æ–µ)

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ
`POST /internal/quote` ‚Äî –ø—Ä–∏—ë–º –∫–æ—Ç–∏—Ä–æ–≤–æ–∫.  
`GET /internal/markets` ‚Äî —Å–ø–∏—Å–æ–∫ –º–æ–Ω–µ—Ç –∏–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è.  

### –ü—É–±–ª–∏—á–Ω–æ–µ
`GET /api/status` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã.  
`GET /api/ranking` ‚Äî —Ç–æ–ø‚ÄëN –º–æ–Ω–µ—Ç –ø–æ –ø—Ä–∏–±—ã–ª–∏.  

---

## 7. –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞
–î–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã:
- –ü–æ–∫—É–ø–∫–∞ –ø–æ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–µ `min_price` –Ω–∞ –±–∏—Ä–∂–µ `emin`.
- –ü—Ä–æ–¥–∞–∂–∞ –ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ü–µ–Ω–µ `max_price` –Ω–∞ –±–∏—Ä–∂–µ `emax`.
- –†–∞—Å—á—ë—Ç –ø—Ä–∏–±—ã–ª–∏ —Å —É—á—ë—Ç–æ–º –∫–æ–º–∏—Å—Å–∏–π –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏—è:
  ```
  net_profit = (max_price - min_price) - fees - slippage
  ```
- –†–∞—Å—á—ë—Ç –Ω–∞ —É—Å–ª–æ–≤–Ω—ã–π –æ–±—ä—ë–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000‚ÄØUSDT).

---

## 8. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yaml)
```yaml
exchanges:
  - bybit
  - mexc
  - bitget
  - okx
  - kucoin

notional_usdt_default: 1000
fees:
  bybit: 0.001
  mexc: 0.001
  bitget: 0.001
  okx: 0.001
  kucoin: 0.001
slippage_bps: 3
thresholds:
  min_profit_usdt: 0.5
  min_spread_pct: 0.05
  stale_ms: 1500

telegram:
  enabled: true
  bot_token: "<YOUR_TOKEN>"
  chat_id: "<YOUR_CHAT_ID>"
  notify_interval_sec: 60
  min_profit_usdt: 1.0

web:
  port: 5152
```

---

## 9. –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö ‚â§‚ÄØ1‚ÄØ—Å.  
- –ó–∞–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∏–∫–µ—Ä–æ–≤ ‚â§‚ÄØ400‚ÄØ–º—Å.  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç –ø—Ä–∏ –æ–±—Ä—ã–≤–µ WS.  
- –õ–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –º–æ–¥—É–ª—é.

---

## 10. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
| –≠—Ç–∞–ø | –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ | –°—Ä–æ–∫ |
|------|-------------|------|
| I1 | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, discovery –º–æ–¥—É–ª—å | 1‚Äì2 –¥–Ω—è |
| I2 | –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏—Ä–∂ (WS –∞–¥–∞–ø—Ç–µ—Ä—ã) | 3‚Äì5 –¥–Ω–µ–π |
| I3 | –ê—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π –¥–≤–∏–∂–æ–∫ | 1‚Äì2 –¥–Ω—è |
| I4 | –í–µ–±‚Äë–ø–∞–Ω–µ–ª—å Flask | 1 –¥–µ–Ω—å |
| I5 | Telegram‚Äë–æ–ø–æ–≤–µ—â–µ–Ω–∏—è | 1 –¥–µ–Ω—å |
| I6 | –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–ª–∞–¥–∫–∞ | 2 –¥–Ω—è |

---

## 11. –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–∞–±–æ—Ç (MVP)
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å 5 –±–∏—Ä–∂.  
- –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –º–æ–Ω–µ—Ç —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.  
- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –æ–Ω–ª–∞–π–Ω.  
- Telegram‚Äë–æ–ø–æ–≤–µ—â–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç —Å –∑–∞–¥–∞–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç–æ–π.  
- API –∏ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã.  
